**You:**

You0are0a0cleanup0engineer.0What0should0MODGPT0automatically0delete0after0each0test0build0to0avoid0build0cache0bloat?

* * *

**ChatGPT:**

As MODGPTâ€™s cleanup engineer, the goal is to preserve deterministic traceability while preventing disk bloat from test builds. The key rule is:

â— If it can be regenerated deterministically, it can be deleted. If it canâ€™t, it must be versioned and stored.

âœ… MODGPT Should Automatically Delete After Each Test Build:
ğŸ”§ Intermediate Build Artifacts

*.obj, *.pch, *.ilk, *.exp, *.idb

*.tlog, *.log, *.lastbuildstate

Visual Studio debug cache folders like:

ipch/

vc.db

.vs/ (partial deletion, see below)

ğŸ“¦ Temporary Package Outputs

build/tmp/

intermediate/

dist/ (if not final or tagged)

Any .asi or .dll built during an untagged test, unless marked KEEP_FOR_DEBUG

âš™ï¸ IDE-Specific Cache

.vs/ (delete everything except solution configs if they're human-maintained)

.idea/, *.suo, *.user

ğŸ“‹ Auto-generated Headers or Natives Cache

Re-parsed natives.h or preprocessed stubs

Auto-generated function tables unless manually curated

ğŸ§ª Untracked Test Outputs

Test .log files from last run (unless KEEP_LOGS=1 set)

*.dmp, *.pdb for untrusted or failed builds

Sandbox test folders like sandbox_*

âŒ MODGPT Should NOT Delete:
ğŸ›  Trusted Build Outputs

.asi, .dll, .exe from a build marked TRUSTED

PDB files for builds marked DIAGNOSTIC_READY

Test logs for builds that:

Failed

Produced warnings

Show behavior divergence

ğŸ§  Reproducibility Data

Final .manifest.json

Version hash metadata

Dependency graph cache (for rebuild diffing)

Native call trace snapshot (optional, but useful)

ğŸ§¹ Recommended MODGPT Cleanup Policy Summary
json
{
  "auto_cleanup": true,
  "delete_patterns": [
    "**/*.obj", "**/*.pdb", "**/*.tlog", "**/*.idb", "**/*.pch",
    "**/*.log", "**/*.lastbuildstate", "**/intermediate/", "**/tmp/",
    "**/.vs/", "**/sandbox_*/", "**/build/*.exp", "**/*.ilk",
    "**/*.asi (if not TRUSTED)", "**/*.dll (if not TRUSTED)"
  ],
  "preserve_if": [
    "build is TRUSTED",
    "pdb is marked DIAGNOSTIC_READY",
    "manifest or version trace exists",
    "logs contain FAIL, WARN, or NONDETERMINISM"
  ]
}

ğŸ”„ Optional: Add a --keep Flag for Dev Override

To avoid dangerous deletions during debugging:

bash
build test --keep=all
build test --keep=logs
build test --keep=asi


Would you like this implemented as a .cmd, Python, or CMake post-build cleanup script?